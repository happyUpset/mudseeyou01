<template>
  <div
    class="quick-top-btn fixed bottom-[calc(50px+env(safe-area-inset-bottom))] w-[50px] h-[50px] 2sm:w-36 2sm:h-36 rounded-o transition-all duration-300 cursor-pointer z-2"
    v-scroll-to="'#__nuxt'"
    :class="[isShowed?'show right-[4%] opacity-70':'right-[-6%] opacity-0']">
    <div class="arrows">
      <svg viewBox="0 0 56 56" fill="#ccc" xmlns="http://www.w3.org/2000/svg">
        <circle
          cx="28"
          cy="28"
          r="26.5"
          stroke="white"
          stroke-width="3"
          fill="white"/>
        <path
          d="M3 28C3 32.9445 4.46622 37.778 7.21326 41.8892C9.96029 46.0005 13.8648 49.2048 18.4329 51.097C23.0011 52.9892 28.0277 53.4843 32.8773 52.5196C37.7268 51.555 42.1813 49.174 45.6777 45.6777C49.174 42.1813 51.555 37.7268 52.5196 32.8772C53.4842 28.0277 52.9892 23.0011 51.097 18.4329C49.2048 13.8648 46.0005 9.96029 41.8892 7.21326C37.778 4.46622 32.9445 3 28 3C21.3696 3 15.0107 5.63392 10.3223 10.3223C5.63392 15.0107 3 21.3696 3 28H3ZM43.9574 32.3511C43.9574 32.8171 43.8192 33.2727 43.5603 33.6602C43.3014 34.0477 42.9334 34.3497 42.5028 34.5281C42.0722 34.7064 41.5984 34.7531 41.1413 34.6622C40.6843 34.5712 40.2644 34.3468 39.9348 34.0173C39.6053 33.6877 39.3809 33.2679 39.2899 32.8108C39.199 32.3537 39.2457 31.8799 39.424 31.4493C39.6024 31.0187 39.9044 30.6507 40.2919 30.3918C40.6794 30.1329 41.135 29.9947 41.6011 29.9947C42.2256 29.9961 42.8241 30.2448 43.2657 30.6864C43.7073 31.128 43.956 31.7265 43.9574 32.3511V32.3511ZM37.1596 32.3511C37.1596 32.8173 37.0212 33.2731 36.7621 33.6607C36.5029 34.0484 36.1346 34.3504 35.7037 34.5286C35.2728 34.7068 34.7988 34.7531 34.3415 34.6618C33.8843 34.5704 33.4644 34.3455 33.1351 34.0154C32.8058 33.6853 32.5818 33.2649 32.4914 32.8075C32.4011 32.3501 32.4485 31.8761 32.6277 31.4456C32.8069 31.0151 33.1097 30.6475 33.4979 30.3892C33.8861 30.1309 34.3422 29.9936 34.8085 29.9947C35.4279 30.0031 36.0191 30.255 36.4541 30.696C36.8892 31.137 37.133 31.7316 37.133 32.3511L37.1596 32.3511ZM30.367 32.3511C30.367 32.8167 30.2291 33.2718 29.9706 33.6591C29.7122 34.0463 29.3448 34.3484 28.9148 34.527C28.4849 34.7057 28.0116 34.753 27.5548 34.6629C27.098 34.5728 26.6781 34.3495 26.3482 34.021C26.0182 33.6925 25.793 33.2736 25.7008 32.8173C25.6087 32.3609 25.6539 31.8874 25.8306 31.4567C26.0073 31.0259 26.3077 30.6572 26.6938 30.397C27.0799 30.1368 27.5344 29.9968 28 29.9947C28.6222 29.9989 29.2174 30.249 29.6559 30.6905C30.0944 31.1319 30.3404 31.7289 30.3404 32.3511L30.367 32.3511ZM23.5745 32.3511C23.5745 32.8171 23.4363 33.2727 23.1773 33.6602C22.9184 34.0477 22.5504 34.3497 22.1198 34.5281C21.6893 34.7064 21.2155 34.7531 20.7584 34.6622C20.3013 34.5712 19.8814 34.3468 19.5519 34.0173C19.2223 33.6877 18.9979 33.2679 18.907 32.8108C18.8161 32.3537 18.8627 31.8799 19.0411 31.4493C19.2194 31.0187 19.5214 30.6507 19.9089 30.3918C20.2964 30.1329 20.752 29.9947 21.2181 29.9947C21.838 30.0031 22.4297 30.2548 22.8656 30.6957C23.3015 31.1365 23.5465 31.7311 23.5479 32.3511L23.5745 32.3511ZM16.7766 32.3511C16.7766 32.8173 16.6383 33.2731 16.3791 33.6607C16.1199 34.0484 15.7516 34.3504 15.3207 34.5286C14.8898 34.7068 14.4158 34.7531 13.9585 34.6618C13.5013 34.5704 13.0814 34.3455 12.7521 34.0154C12.4228 33.6853 12.1988 33.2649 12.1085 32.8075C12.0181 32.3501 12.0656 31.8761 12.2447 31.4456C12.4239 31.0151 12.7267 30.6475 13.1149 30.3892C13.5032 30.1309 13.9593 29.9936 14.4255 29.9947C15.0449 30.0031 15.6361 30.255 16.0711 30.696C16.5062 31.137 16.7501 31.7316 16.75 32.3511L16.7766 32.3511ZM37.133 25.7394C37.133 26.2056 36.9946 26.6614 36.7355 27.049C36.4763 27.4367 36.108 27.7387 35.6771 27.9169C35.2462 28.0951 34.7722 28.1414 34.3149 28.0501C33.8577 27.9587 33.4378 27.7338 33.1085 27.4037C32.7792 27.0736 32.5552 26.6532 32.4648 26.1958C32.3745 25.7384 32.4219 25.2644 32.6011 24.8339C32.7803 24.4034 33.0831 24.0358 33.4713 23.7775C33.8595 23.5192 34.3156 23.3819 34.7819 23.383C35.0911 23.383 35.3973 23.444 35.6828 23.5624C35.9684 23.6809 36.2279 23.8546 36.4462 24.0735C36.6646 24.2923 36.8377 24.5522 36.9555 24.838C37.0734 25.1239 37.1337 25.4302 37.133 25.7394ZM30.3404 25.7394C30.3404 26.2061 30.2018 26.6623 29.9422 27.0501C29.6825 27.438 29.3136 27.74 28.8821 27.9179C28.4506 28.0957 27.976 28.1414 27.5184 28.0492C27.0609 27.957 26.6411 27.731 26.3122 27.3998C25.9833 27.0687 25.7601 26.6473 25.671 26.1892C25.5819 25.7311 25.6308 25.2568 25.8116 24.8265C25.9924 24.3962 26.2969 24.0293 26.6865 23.7723C27.0761 23.5153 27.5333 23.3798 28 23.383C28.6226 23.3858 29.2187 23.6355 29.6575 24.0772C30.0962 24.519 30.3418 25.1167 30.3404 25.7394V25.7394ZM23.5479 25.7394C23.5479 26.2054 23.4097 26.661 23.1507 27.0485C22.8918 27.436 22.5238 27.738 22.0932 27.9164C21.6627 28.0947 21.1889 28.1414 20.7318 28.0505C20.2747 27.9595 19.8548 27.7351 19.5253 27.4056C19.1957 27.076 18.9713 26.6562 18.8804 26.1991C18.7895 25.742 18.8361 25.2682 19.0145 24.8376C19.1928 24.407 19.4948 24.039 19.8823 23.7801C20.2699 23.5212 20.7254 23.383 21.1915 23.383C21.8164 23.383 22.4158 23.6312 22.8577 24.0731C23.2996 24.515 23.5479 25.1144 23.5479 25.7394ZM30.3404 19.1277C30.3404 19.5944 30.2018 20.0506 29.9422 20.4384C29.6825 20.8263 29.3136 21.1283 28.8821 21.3062C28.4506 21.484 27.976 21.5297 27.5184 21.4375C27.0609 21.3453 26.6411 21.1193 26.3122 20.7881C25.9833 20.457 25.7601 20.0356 25.671 19.5775C25.5819 19.1194 25.6308 18.6451 25.8116 18.2148C25.9924 17.7845 26.2969 17.4176 26.6865 17.1606C27.0761 16.9036 27.5333 16.7681 28 16.7713C28.6226 16.7741 29.2187 17.0238 29.6575 17.4655C30.0962 17.9073 30.3418 18.505 30.3404 19.1277V19.1277Z"
          class="transition-all fill-first-color hover:fill-first-color-light active:fill-first-color-dark"/>
      </svg>
    </div>
  </div>
</template>

<script setup>

import {storeScreen} from "@/store/screen";

const props = defineProps({
  animate: {
    type: Boolean,
    default: true
  }
})
const isShowed = ref(false)
const screen = storeScreen()

watch(()=> screen.windowScrollTop, (new1) => {
  const winHeight = screen.windowHeight;
  const winScrollTop = new1;
  if (!isShowed.value && winHeight < winScrollTop) {
    isShowed.value = true;
  } else if (isShowed.value && winHeight >= winScrollTop) {
    isShowed.value = false;
  }
})
</script>
